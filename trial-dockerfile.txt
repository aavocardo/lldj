# Using official Ubuntu 10 as base image
FROM ubuntu:20.04

# Maintainer information
LABEL maintainer="ricardo.saad@proton.me"

# Update the package index and install required packages
RUN apt-get update && apt-get install -y \
    curl \
    wget \
    bzip2 \
    libglib2.0-0 \
    nano \
    less \
    net-tools \
    build-essential \
    iputils-ping \
    apt-transport-https \
    ca-certificates \
    && apt-get clean \
    && rm -rf /var/lib/apt/lists/*

RUN curl -y https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -o Miniconda3-latest-Linux-x86_64.sh \
    && bash Miniconda3-latest-Linux-x86_64.sh

# Set the PATH to include Miniconda
ENV PATH /opt/conda/bin:$PATH

# Create a new conda environment and install packages from conda
RUN conda create -- LLDJ-tf python=3.8 \
    && conda activate LLDJ-tf \
    && conda install numpy  \
    && conda install pandas \
    && conda install matplotlib

# Install packages from pip
RUN pip install scikit-learn  \
    && pip install tensorflow \
    && pip install tensorflow-cuda \
    && pip install scikit-learn

# Set the working directory
WORKDIR /root
